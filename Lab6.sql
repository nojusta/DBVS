CREATE TABLE CLIENT
(CLIENT_ID VARCHAR2(10) CONSTRAINT CLIENT_PK PRIMARY KEY,
 CLIENT_NAME VARCHAR2(30) NOT NULL,
 TABLE_NUM NUMBER(2) NOT NULL CONSTRAINT CHECK_TABLE CHECK(TABLE_NUM BETWEEN 1 AND 99));

CREATE TABLE WAITER
(EMPLOYEE_ID VARCHAR2(10) CONSTRAINT WAITER_PK PRIMARY KEY,
 EMPLOYEE_NAME VARCHAR2(30) NOT NULL,
 HIRE_DATE DATE NOT NULL,
 SALARY NUMBER(6, 2) NOT NULL CONSTRAINT CHECK_SALARY CHECK(SALARY BETWEEN 100 AND 10000));

CREATE TABLE "ORDER"
(ORDER_ID VARCHAR2(10) CONSTRAINT ORDER_PK PRIMARY KEY,
 TOTAL_PRICE NUMBER(5, 2) NOT NULL CONSTRAINT CHECK_PRICE CHECK(TOTAL_PRICE > 0 AND TOTAL_PRICE <= 1000),
 ORDER_DATE DATE,
 CLIENT_ID VARCHAR2(10),
 EMPLOYEE_ID VARCHAR2(10),
 CONSTRAINT ORDER_CLIENT_FK FOREIGN KEY (CLIENT_ID) REFERENCES CLIENT(CLIENT_ID) ON DELETE SET NULL,
 CONSTRAINT ORDER_EMPLOYEE_FK FOREIGN KEY (EMPLOYEE_ID) REFERENCES WAITER(EMPLOYEE_ID) ON DELETE SET NULL);

CREATE TABLE MEAL
(DISH_NAME VARCHAR2(50) CONSTRAINT MEAL_PK PRIMARY KEY,
 DISH_PRICE NUMBER(4, 2) NOT NULL CONSTRAINT CHECK_NUMBER CHECK(DISH_PRICE > 0 AND DISH_PRICE <= 100),
 DISH_INGREDIENTS VARCHAR2(1000) NOT NULL);

CREATE TABLE ORDERED_MEAL
(ORDER_ID VARCHAR2(10),
 DISH_NAME VARCHAR2(50),
 QUANTITY NUMBER(2) NOT NULL CONSTRAINT CHECK_QUANTITY CHECK(QUANTITY > 0),
 CONSTRAINT ORDERED_MEAL_PK PRIMARY KEY (ORDER_ID, DISH_NAME),
 CONSTRAINT ORDERED_MEAL_ORDER_FK FOREIGN KEY (ORDER_ID) REFERENCES "ORDER"(ORDER_ID) ON DELETE SET NULL,
 CONSTRAINT ORDERED_MEAL_DISH_FK FOREIGN KEY (DISH_NAME) REFERENCES MEAL(DISH_NAME) ON DELETE SET NULL);


-- Data for the CLIENT table
INSERT INTO CLIENT (CLIENT_ID, CLIENT_NAME, TABLE_NUM) VALUES ('C001', 'John Doe', 5);
INSERT INTO CLIENT (CLIENT_ID, CLIENT_NAME, TABLE_NUM) VALUES ('C002', 'Jane Smith', 10);
INSERT INTO CLIENT (CLIENT_ID, CLIENT_NAME, TABLE_NUM) VALUES ('C003', 'Alice Johnson', 3);
INSERT INTO CLIENT (CLIENT_ID, CLIENT_NAME, TABLE_NUM) VALUES ('C004', 'Bob Brown', 12);
INSERT INTO CLIENT (CLIENT_ID, CLIENT_NAME, TABLE_NUM) VALUES ('C005', 'Charlie White', 7);

-- Data for the WAITER table
INSERT INTO WAITER (EMPLOYEE_ID, EMPLOYEE_NAME, HIRE_DATE, SALARY) VALUES ('W001', 'Tom Adams', TO_DATE('2023-01-15', 'YYYY-MM-DD'), 1500.00);
INSERT INTO WAITER (EMPLOYEE_ID, EMPLOYEE_NAME, HIRE_DATE, SALARY) VALUES ('W002', 'Jerry Clark', TO_DATE('2022-03-22', 'YYYY-MM-DD'), 2800.00);
INSERT INTO WAITER (EMPLOYEE_ID, EMPLOYEE_NAME, HIRE_DATE, SALARY) VALUES ('W003', 'Nancy Drew', TO_DATE('2021-07-30', 'YYYY-MM-DD'), 750.00);
INSERT INTO WAITER (EMPLOYEE_ID, EMPLOYEE_NAME, HIRE_DATE, SALARY) VALUES ('W004', 'Paul Evans', TO_DATE('2020-11-10', 'YYYY-MM-DD'), 3200.00);
INSERT INTO WAITER (EMPLOYEE_ID, EMPLOYEE_NAME, HIRE_DATE, SALARY) VALUES ('W005', 'Diana King', TO_DATE('2019-05-05', 'YYYY-MM-DD'), 1000.00);

-- Data for the "ORDER" table
INSERT INTO "ORDER" (ORDER_ID, TOTAL_PRICE, ORDER_DATE, CLIENT_ID, EMPLOYEE_ID) VALUES ('O001', 50.50, TO_DATE('2024-01-10', 'YYYY-MM-DD'), 'C001', 'W001');
INSERT INTO "ORDER" (ORDER_ID, TOTAL_PRICE, ORDER_DATE, CLIENT_ID, EMPLOYEE_ID) VALUES ('O002', 200.00, TO_DATE('2024-01-12', 'YYYY-MM-DD'), 'C002', 'W003');
INSERT INTO "ORDER" (ORDER_ID, TOTAL_PRICE, ORDER_DATE, CLIENT_ID, EMPLOYEE_ID) VALUES ('O003', 180.75, TO_DATE('2024-01-15', 'YYYY-MM-DD'), 'C003', 'W003');
INSERT INTO "ORDER" (ORDER_ID, TOTAL_PRICE, ORDER_DATE, CLIENT_ID, EMPLOYEE_ID) VALUES ('O004', 220.00, TO_DATE('2024-01-20', 'YYYY-MM-DD'), 'C004', 'W002');
INSERT INTO "ORDER" (ORDER_ID, TOTAL_PRICE, ORDER_DATE, CLIENT_ID, EMPLOYEE_ID) VALUES ('O005', 675.25, TO_DATE('2024-01-25', 'YYYY-MM-DD'), 'C005', 'W005');

-- Data for the MEAL table
INSERT INTO MEAL (DISH_NAME, DISH_PRICE, DISH_INGREDIENTS) VALUES ('Pasta Carbonara', 12.50, 'Pasta, Eggs, Pancetta, Parmesan');
INSERT INTO MEAL (DISH_NAME, DISH_PRICE, DISH_INGREDIENTS) VALUES ('Margherita Pizza', 10.00, 'Dough, Tomato Sauce, Mozzarella, Basil');
INSERT INTO MEAL (DISH_NAME, DISH_PRICE, DISH_INGREDIENTS) VALUES ('Caesar Salad', 8.75, 'Romaine Lettuce, Croutons, Parmesan, Caesar Dressing');
INSERT INTO MEAL (DISH_NAME, DISH_PRICE, DISH_INGREDIENTS) VALUES ('Grilled Chicken', 15.00, 'Chicken, Olive Oil, Herbs, Spices');
INSERT INTO MEAL (DISH_NAME, DISH_PRICE, DISH_INGREDIENTS) VALUES ('Cheesecake', 6.50, 'Cream Cheese, Sugar, Eggs, Graham Crackers');

-- Data for the ORDERED_MEAL table
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O001', 'Pasta Carbonara', 2);
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O001', 'Caesar Salad', 1);
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O002', 'Margherita Pizza', 3);
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O003', 'Grilled Chicken', 2);
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O004', 'Cheesecake', 4);
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O005', 'Pasta Carbonara', 1);
INSERT INTO ORDERED_MEAL (ORDER_ID, DISH_NAME, QUANTITY) VALUES ('O005', 'Margherita Pizza', 1);
